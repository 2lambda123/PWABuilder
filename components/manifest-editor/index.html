<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Manifest Editor</title>

    <script type="module" src="/dist/index.js"></script>

    <link rel="stylesheet" href="/global.css" />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.0.0-beta.79/dist/themes/light.css"
    />
    <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.0.0-beta.79/dist/shoelace.js"></script>
  </head>

  <body>
    <div id="editor-holder">
      <div id="close"><ion-icon name="close"></ion-icon></div>
      <div id="editor-header">
        <div id="header-text">
          <h1>Generate a manifest</h1>
          <p>Generate your Manifest Base Files Package below by editing the required fields. Once you have added the updated maifest to your PWA, re-test the url. Once you are staistifed with you score package your PWA for the stores.</p>
        </div>
        <div id="header-actions">
          <button id="download-button">Download Manifest</button>
          <button id="reset-button">Reset to original Manifest <ion-icon name="refresh"></ion-icon></button>
          <div id="actions">
            <span class="header-action"><a href="https://marketplace.visualstudio.com/items?itemName=PWABuilder.pwa-studio" target="_blank" rel="noopener">VS Code Extension </a> <img src="/assets/arrow.svg" alt="arrow" /> </span>
            <span class="header-action"><a href="https://developer.mozilla.org/en-US/docs/Web/Manifest" target="_blank" rel="noopener">Manifest Documentation </a> <img src="/assets/arrow.svg" alt="arrow" /> </span>
          </div>
        </div>
      </div>
      <pwa-manifest-editor></pwa-manifest-editor>
    </div>
    <!-- Ion Icons -->
    <script type="module" src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule="" src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons/ionicons.js"></script>

    <script type="module">
      let editor = document.querySelector("pwa-manifest-editor");

      /* let resetBtn = document.getElementById("reset-button");
      resetBtn.addEventListener("click", () => {
        editor.resetManifest();
      });

      let downloadBtn = document.getElementById("download-button");
      downloadBtn.addEventListener("click", () => {
        editor.downloadManifest();
      }); */

      editor.initialManifest = {"name":"TREGO","short_name":"TREGO","start_url":"https:\/\/tregoo.xyz\/","display":"fullscreen","theme_color":"#000000","background_color":"#1252A1","orientation":"any","status_bar":"black","splash":{"640x1136":"\/images\/icons\/splash-640x1136.png","750x1334":"\/images\/icons\/splash-750x1334.png","828x1792":"\/images\/icons\/splash-828x1792.png","1125x2436":"\/images\/icons\/splash-1125x2436.png","1242x2208":"\/images\/icons\/splash-1242x2208.png","1242x2688":"\/images\/icons\/splash-1242x2688.png","1536x2048":"\/images\/icons\/splash-1536x2048.png","1668x2224":"\/images\/icons\/splash-1668x2224.png","1668x2388":"\/images\/icons\/splash-1668x2388.png","2048x2732":"\/images\/icons\/splash-2048x2732.png"},"icons":[{"src":"\/images\/icons\/icon-72x72.png","type":"image\/png","sizes":"72x72","purpose":"any"},{"src":"\/images\/icons\/icon-96x96.png","type":"image\/png","sizes":"96x96","purpose":"any"},{"src":"\/images\/icons\/icon-128x128.png","type":"image\/png","sizes":"128x128","purpose":"any"},{"src":"\/images\/icons\/icon-144x144.png","type":"image\/png","sizes":"144x144","purpose":"any"},{"src":"\/images\/icons\/icon-152x152.png","type":"image\/png","sizes":"152x152","purpose":"any"},{"src":"\/images\/icons\/icon-192x192.png","type":"image\/png","sizes":"192x192","purpose":"any"},{"src":"\/images\/icons\/icon-384x384.png","type":"image\/png","sizes":"384x384","purpose":"any"},{"src":"\/images\/icons\/icon-512x512.png","type":"image\/png","sizes":"512x512","purpose":"maskable"}],"shortcuts":[{"name":"Shortcut Link 1","description":"Shortcut Link 1 Description","url":"","icons":[{"src":"\/images\/icons\/icon-72x72.png","type":"image\/png","purpose":"any"}]},{"name":"Shortcut Link 2","description":"Shortcut Link 2 Description","url":"","icons":[[]]}]}; //load an initial manifest
      editor.manifestURL = "tregoo.xyz/"

      let editedManifest = editor.manifest; // get edited or generated manifest
      //console.log(editedManifest);

      //editor.addEventListener('manifestUpdated', (e) => { console.log("Manifest Updated") });

      //editor.addEventListener('screenshotsUpdated', (e) => { console.log("Screenshots Updated") });
      //let screenshots = editor.getScreenshots(); // get blobs of all screenshots

      /*
      let icons = editor.getIcons(); // get blobs of all icons

      // events
      editor.addEventListener('iconsUpdated', (e) => { });
      */

   </script>
  </body>
</html>

